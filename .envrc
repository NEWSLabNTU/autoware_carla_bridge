#!/usr/bin/env bash
# direnv configuration for autoware_carla_bridge

# Source ROS 2 Humble
source /opt/ros/humble/setup.sh

# Optionally source local colcon install if it exists
# This provides access to built ROS packages and environment
if [ -f install/setup.sh ]; then
    watch_file install/setup.sh
    source install/setup.sh
    echo "✓ Sourced install/setup.sh"
else
    # Watch for the file to appear (after first build)
    watch_file install/setup.sh
    echo "ℹ install/setup.sh not found (run 'make build' to create it)"
fi

# Optionally set CARLA_VERSION for multi-version support
# Uncomment to use a specific CARLA version:
# export CARLA_VERSION=0.9.16  # Default
# export CARLA_VERSION=0.9.15
# export CARLA_VERSION=0.9.14
